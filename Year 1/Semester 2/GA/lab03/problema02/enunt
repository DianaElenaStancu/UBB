Problema 2

CerinÈ›a
AvÃ¢nd dat un graf rar orientat ponderat calculatÌ¦i costul minim de la fiecare vÃ¢rf pÃ¢naÌ† la fiecare vÃ¢rf  accesibil
din  acesta.  Implementarea  trebuie saÌ† fie  eficientaÌ† din  punctul  de  vedere  al memoriei folosite sÌ¦i al timpului
de executÌ¦ie. (ImplementatÌ¦i algoritmul lui Johnson.)

Formatul sursei
SolutÌ¦ia va fi implementataÌ† Ã®n limbajul de programare C++. Numele sursei va fi â€p2.cppâ€. CaÌ†ile fisÌ¦ierelor de intrare sÌ¦i
de iesÌ¦ire vor fi date ca parametrii Ã®n linia de comandaÌ†, prima fiind calea fisÌ¦ierului de intrare sÌ¦i a doua
fiind calea fisÌ¦ierului de iesÌ¦ire.

Formatul fiÈ™ierului de intrare
FisÌ¦ierul  de  intrare  contÌ¦ine  pe  prima  linie  2  numere  separate  prin  spatÌ¦iu: V  E.
V reprezintaÌ† numaÌ†rul de vÃ¢rfuri ale grafului.
E reprezintaÌ† numaÌ†rul de arce ale grafului.
UrmaÌ†toarele E linii contÌ¦in cÃ¢te 3 numere separate prin spatÌ¦iu, reprezentÃ¢nd cÃ¢te un arc: x y w.
x este nodul sursaÌ†al arcului, y este nodul destinatÌ¦ie, iar w este ponderea.
Indexarea vÃ¢rfurilor se face de la 0.
Valorile din fisÌ¦ierul de intrare se Ã®ncadreazaÌ†Ã®n urmaÌ†toarele limite:
â€¢1 â‰¤ ğ‘‰â‰¤ 1000;
â€¢0 â‰¤ ğ¸â‰¤ 10000;
â€¢0 â‰¤ ğ‘¥< ğ‘‰;
â€¢0 â‰¤ ğ‘¦< ğ‘‰;
â€¢âˆ’100 â‰¤ ğ‘¤â‰¤ 100;

Formatul fiÈ™ierului de ieÈ™ire
FisÌ¦ierul de iesÌ¦ire va contÌ¦ine o linie sau E + V linii.
DacaÌ† graful dat Ã®n fisÌ¦ierul de intrare contÌ¦ine un circuit de cost negativ, fisÌ¦ierul de iesÌ¦ire va contÌ¦ine o singuraÌ†
linie cu valoarea -1. IÌ‚n cazul Ã®n care graful nu contÌ¦ine niciun circuit de cost negativ,
fisÌ¦ierul de iesÌ¦ire va contine E + V linii, avÃ¢nd semnificatÌ¦ia descrisaÌ† mai jos.
Primele E linii reprezintaÌ† muchiile grafului dupaÌ† reponderare. Fiecare linie va fi formataÌ† din 3 valori separate
prin spatÌ¦iu, reprezentÃ¢nd cÃ¢te un arc: x y ğ‘¤ . x este nodul sursaÌ†al arcului, y este nodul  destinatÌ¦ie,
iar ğ‘¤ este  noua  pondere  a  arcului.  Arcele  vor  fi  ordonate Ã®ntÃ¢i  dupaÌ†nodul sursaÌ†, apoi dupaÌ†nodul destinatÌ¦ie.
UrmaÌ†toarele V linii  reprezintaÌ†matricea  distantÌ¦elor,  fiecare  dintre  aceste  linii  contÌ¦inÃ¢nd V valori.
Linia i amatricei (linia V + i a fisÌ¦ierului de  iesÌ¦ire) reprezintaÌ† costurile drumurilor de cost minim de la
vÃ¢rful sursei pÃ¢naÌ† la toate vÃ¢rfurile grafului. Valoarea de pe pozitÌ¦ia j a liniei i reprezintaÌ† costul minim de la
vÃ¢rful sursei pÃ¢naÌ† la vÃ¢rful j. DacaÌ† vÃ¢rful j este inaccesibil din vÃ¢rful i, atunci pe pozitÌ¦ia j a liniei i se va scrie
sÌ¦irul de caractere â€INFâ€.

Exemplu 1

fisierul de intrare
3 4
0 2 6
1 0 -2
1 2 5
2 0 -3

fisierul de iesire
0 2 3
1 0 1
1 2 5
2 0 0
0 INF 6
-2 0 4
-3 INF 0

Exemplu 2

fisierul de intrare
4 5
0 1 5
1 2 -3
2 0 -1
2 3 7
3 1 -5

fisierul de iesire
-1